<template>
  <div>
    <l-todos :todos="todos" />
  </div>
</template>

<script setup lang="ts">
import LTodos from "./components/index.vue"
import type { Todos } from './components/types'

const todos = reactive<Todos>({
  todoList: [
    { id: 1, value: 'string', done: true },
    { id: 2, value: 'str', done: false }
  ],  
  callBack: {
    handleAdd: (todo) => {
      todos.todoList.push(todo)
      console.log(`ğŸ“•æ·»åŠ å…ƒç´ `, todo)
    },
    handleUpdate: (id, newVal) => {
      const index = todos.todoList.findIndex(todo => todo.id === id);
      todos.todoList[index].value = newVal
      console.log(`ğŸ“Œæ›´æ–°å…ƒç´ ID: ${id} ;ğŸ“œæ–°å†…å®¹ï¼š${newVal}`);
    },
    handleRemove: (todo) => {
      const index = todos.todoList.findIndex(e => e.id === todo.id)
      todos.todoList.splice(index, 1)
      console.log(`ğŸ“Œç§»é™¤å…ƒç´ :`, todo)
    },
    handleClear: (idList) => {
      const newTodoList = todos.todoList.filter(todo => !idList.includes(todo.id))
      todos.todoList = newTodoList
      console.log(`âœ¨æ¸…é™¤å…ƒç´ idï¼š${idList}`);
    },
    handleDone: (id, idList) => { console.log(`ğŸ“Œé€‰ä¸­å…ƒç´ ID: ${id} ; âœ¨é€‰ä¸­IDé›†åˆï¼š${idList}`); },
    handleCheckAll: (idList) => { console.log(`âœ¨é€‰ä¸­å…ƒç´ IDï¼š${idList}`); },
    handleFilter: (type) => { console.log(`å½“å‰æ˜¾ç¤ºâœ¨ ${type} âœ¨å…ƒç´ `); },
  }
});

</script>

<style lang="less" scoped>

</style>